var S=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports);var E=(o,n,a)=>new Promise((c,e)=>{var t=i=>{try{h(a.next(i))}catch(v){e(v)}},d=i=>{try{h(a.throw(i))}catch(v){e(v)}},h=i=>i.done?c(i.value):Promise.resolve(i.value).then(t,d);h((a=a.apply(o,n)).next())});import{S as x,P as A,G as H,A as R,a as W,W as M,R as O,b as z,c as D,V as F,E as C,d as T}from"./vendor.74ff68c9.js";var G=S(P=>{const q=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}};q();const f={},r=document.querySelector("#earth-wrap"),l=document.getElementById("earth"),g=new x,m=new A(70,r.clientWidth/r.clientHeight,.1,2e3);let b=!1,u;const p=.001;let s=.005;const I=()=>E(P,null,function*(){const o=new H,n=new R(7844571,2),a=new W(16777215,7);a.position.set(30,30,30),g.add(a),g.add(n);const c=new M({canvas:l,logarithmicDepthBuffer:!0,antialias:!0,alpha:!0});c.setPixelRatio(window.devicePixelRatio),c.setSize(r.clientWidth,r.clientHeight);const e=new O(g,m),t=new z(D);t.uniforms.resolution.value=new F(r.clientWidth,r.clientHeight),t.uniforms.pixelSize.value=10;const d=new C(c);return d.addPass(e),d.addPass(t),f.composer=d,f.renderer=c,f.pixelpass=t,m.position.x=45,m.position.y=10,m.lookAt(0,0,0),new Promise(h=>{o.load("media/earth-clouds.glb",i=>{u=i.scene,g.add(u),u.scale.multiplyScalar(.045),u.rotation.z=Math.PI/-7,new T(u),i.animations[0],setInterval(()=>{requestAnimationFrame(()=>{s>0&&(s=Math.max(p,s-p)),s<0&&(s=Math.min(p,s+p)),u.rotateY(s),f.composer.render()})},1e3/30),h()},void 0,i=>{console.error(i)})})}),_=()=>{};I().then(()=>{b=!0});document.addEventListener("scroll",()=>{!b||requestAnimationFrame(_)});window.addEventListener("resize",()=>{m.aspect=r.clientWidth/r.clientHeight,m.updateProjectionMatrix(),f.renderer.setSize(r.clientWidth,r.clientHeight),f.composer.setSize(r.clientWidth,r.clientHeight),f.pixelpass.uniforms.resolution.value.set(r.clientWidth,r.clientHeight)});let L=!1,w=0;l.addEventListener("mousedown",o=>{L=!0,s=0,y=0,w=Date.now()});l.addEventListener("mouseup",()=>{L=!1,w=Date.now()-w,s=y/(w/50),Math.abs(s)<p&&(s=p)});const j=1200,k=1900;let y=0;l.addEventListener("mousemove",o=>{let n=o.movementX;!n||L&&(y+=n/j,u.rotateY(n/k))});l.addEventListener("mousedown",()=>{l.style.cursor="grabbing"});l.addEventListener("mouseup",()=>{l.style.cursor="grab"});l.addEventListener("touchend",o=>{o.preventDefault()})});export default G();
