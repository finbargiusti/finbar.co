var S=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports);var E=(d,n,s)=>new Promise((a,e)=>{var t=i=>{try{p(s.next(i))}catch(v){e(v)}},c=i=>{try{p(s.throw(i))}catch(v){e(v)}},p=i=>i.done?a(i.value):Promise.resolve(i.value).then(t,c);p((s=s.apply(d,n)).next())});import{S as x,P as A,G as H,A as R,a as W,W as M,R as O,b as z,c as F,V as C,E as D,d as T}from"./vendor.74ff68c9.js";var G=S(P=>{const q=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};q();const u={},r=document.querySelector("#earth-wrap"),f=document.getElementById("earth"),w=new x,h=new A(70,r.clientWidth/r.clientHeight,.1,2e3);let b=!1,l;const m=.001;let o=.005;const I=()=>E(P,null,function*(){const d=new H,n=new R(7844571,2),s=new W(16777215,7);s.position.set(30,30,30),w.add(s),w.add(n);const a=new M({canvas:f,logarithmicDepthBuffer:!0,antialias:!0,alpha:!0});a.setPixelRatio(window.devicePixelRatio),a.setSize(r.clientWidth,r.clientHeight);const e=new O(w,h),t=new z(F);t.uniforms.resolution.value=new C(r.clientWidth,r.clientHeight),t.uniforms.pixelSize.value=10;const c=new D(a);return c.addPass(e),c.addPass(t),u.composer=c,u.renderer=a,u.pixelpass=t,h.position.x=50,h.lookAt(0,0,0),new Promise(p=>{d.load("media/Earth.glb",i=>{l=i.scene,w.add(l),l.scale.multiplyScalar(.05),l.rotation.z=Math.PI/-7,new T(l),i.animations[0],setInterval(()=>{requestAnimationFrame(()=>{o>0&&(o=Math.max(m,o-m)),o<0&&(o=Math.min(m,o+m)),l.rotateY(o),u.composer.render()})},1e3/30),p()},void 0,i=>{console.error(i)})})}),_=()=>{};I().then(()=>{b=!0});document.addEventListener("scroll",()=>{!b||requestAnimationFrame(_)});window.addEventListener("resize",()=>{h.aspect=r.clientWidth/r.clientHeight,h.updateProjectionMatrix(),u.renderer.setSize(r.clientWidth,r.clientHeight),u.composer.setSize(r.clientWidth,r.clientHeight),u.pixelpass.uniforms.resolution.value.set(r.clientWidth,r.clientHeight)});let L=!1,g=0;window.addEventListener("mousedown",()=>{L=!0,o=0,y=0,g=Date.now()});window.addEventListener("mouseup",()=>{L=!1,g=Date.now()-g,o=y/(g/50),Math.abs(o)<m&&(o=m)});const j=1200,k=1900;let y=0;f.addEventListener("mousemove",d=>{let n=d.movementX;L&&(y+=n/j,l.rotateY(n/k))});f.addEventListener("mousedown",()=>{f.style.cursor="grabbing"});f.addEventListener("mouseup",()=>{f.style.cursor="grab"})});export default G();
