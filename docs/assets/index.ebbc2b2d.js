var S=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports);var E=(o,n,a)=>new Promise((d,e)=>{var t=r=>{try{h(a.next(r))}catch(v){e(v)}},c=r=>{try{h(a.throw(r))}catch(v){e(v)}},h=r=>r.done?d(r.value):Promise.resolve(r.value).then(t,c);h((a=a.apply(o,n)).next())});import{S as x,P as A,G as H,A as R,a as W,W as M,R as O,b as z,c as D,V as F,E as C,d as T}from"./vendor.74ff68c9.js";var G=S(P=>{const q=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}};q();const u={},i=document.querySelector("#earth-wrap"),p=document.getElementById("earth"),w=new x,f=new A(70,i.clientWidth/i.clientHeight,.1,2e3);let b=!1,l;const m=.001;let s=.005;const I=()=>E(P,null,function*(){const o=new H,n=new R(7844571,2),a=new W(16777215,7);a.position.set(30,30,30),w.add(a),w.add(n);const d=new M({canvas:p,logarithmicDepthBuffer:!0,antialias:!0,alpha:!0});d.setPixelRatio(window.devicePixelRatio),d.setSize(i.clientWidth,i.clientHeight);const e=new O(w,f),t=new z(D);t.uniforms.resolution.value=new F(i.clientWidth,i.clientHeight),t.uniforms.pixelSize.value=10;const c=new C(d);return c.addPass(e),c.addPass(t),u.composer=c,u.renderer=d,u.pixelpass=t,f.position.x=45,f.position.y=10,f.lookAt(0,0,0),new Promise(h=>{o.load("media/earth-clouds.glb",r=>{l=r.scene,w.add(l),l.scale.multiplyScalar(.045),l.rotation.z=Math.PI/-7,new T(l),r.animations[0],setInterval(()=>{requestAnimationFrame(()=>{s>0&&(s=Math.max(m,s-m)),s<0&&(s=Math.min(m,s+m)),l.rotateY(s),u.composer.render()})},1e3/30),h()},void 0,r=>{console.error(r)})})}),_=()=>{};I().then(()=>{b=!0});document.addEventListener("scroll",()=>{!b||requestAnimationFrame(_)});window.addEventListener("resize",()=>{f.aspect=i.clientWidth/i.clientHeight,f.updateProjectionMatrix(),u.renderer.setSize(i.clientWidth,i.clientHeight),u.composer.setSize(i.clientWidth,i.clientHeight),u.pixelpass.uniforms.resolution.value.set(i.clientWidth,i.clientHeight)});let L=!1,g=0;window.addEventListener("mousedown",o=>{L=!0,s=0,y=0,g=Date.now()});window.addEventListener("mouseup",()=>{L=!1,g=Date.now()-g,s=y/(g/50),Math.abs(s)<m&&(s=m)});const j=1200,k=1900;let y=0;p.addEventListener("mousemove",o=>{let n=o.movementX;!n||L&&(y+=n/j,l.rotateY(n/k))});p.addEventListener("mousedown",()=>{p.style.cursor="grabbing"});p.addEventListener("mouseup",()=>{p.style.cursor="grab"});window.addEventListener("touchend",o=>{o.preventDefault()})});export default G();
